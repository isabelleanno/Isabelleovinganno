{#
    Usage:
    {% include 'components/image.html.twig' with {
        image: image_object,
        format: 'thumbnail',
        imageCssClasses: 'additional-img-class'
    } %}
#}

{% set image = image|default(null) %}
{% set format = format|default('none') %}
{% set imageCssClasses = imageCssClasses|default('') %}

{% if image %}
	{% set url = image.url ? image.url : (s_default.fallback_image is defined and s_default.fallback_image) ? s_default.fallback_image : '' %}

	{# Check if format exists in the image formats and use formatted URL #}
	{% if format != 'none' and image.formats[format] is defined %}
		{% set url = image.formats[format] %}
	{% endif %}
	<img class="lazyload img-fluid d-inline-flex image-component {% if imageCssClasses is not empty %} {{ imageCssClasses }}{% endif %}" src="{{ url }}" {% if image.title is not empty %} alt="{{ image.title }}" {% endif %} data-sizes="auto">
{% endif %}
